<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Главная страница">
  <title>Главная</title>
  <link rel="stylesheet" href="./styles/main.css">
  <link rel="stylesheet" href="./styles/light.css" media="(prefers-color-scheme: light)">
  <link rel="stylesheet" href="./styles/dark.css" media="(prefers-color-scheme: dark)">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<body>
  <header class="container-fluid colors pb-2 pt-2">
    <nav class="navbar navbar-expand-md d-flex justify-content-between">
      <div>
        <a class="colors navbar-brand text-color fs-4 p-2" href="./main.html">Main</a>
        <a class="colors navbar-brand text-color fs-5 p-2" href="./lk.html">Personal area</a>
        <a class="colors navbar-brand text-color fs-6 p-2" href="./calendar.html">Calendar</a>
      </div>
      <div>
        <a class="colors navbar-brand text-color fs-6" href="./signIn.html">Entry</a>
        <a class="colors navbar-brand text-color fs-6 button-logout" href="#">Exit</a>
        <a class="colors navbar-brand text-color fs-6" href="./registration.html">Register</a>
      </div>
    </nav>
  </header>

  <main class="container-fluid background-main">
    <section class="d-flex flex-column align-items-center pt-5">
      <h2 class="h2 mb-4 text-color">Current events</h2>
      <div class="d-flex justify-content-center m-0">
        <p class="fs-5 pe-3 text-color">Sort</p>
        <div class="dropdown me-3">
          <select class="form-select-sm event-type" aria-label=".form-select-lg example">
            <option value="all">Select the type of event</option>
            <option value="Master-class">Master class</option>
            <option value="Show">Show</option>
          </select>
        </div>
        <div class="dropdown me-3">
          <select class="form-select-sm subway-type" aria-label=".form-select-lg example">
            <option value="everything">Choose subway</option>
            <option value="Zvenigorodskaya">Zvenigorodskaya</option>
            <option value="Gorkovskaya">Gorkovskaya</option>
            <option value="Spasskaya">Spasskaya</option>
          </select>
        </div>
        <form class="search-form d-flex justify-content-end col-12 col-sm-2 col-lg-4 col-xl-6">
          <button type="submit" id="search" class="btn btn-info btn-sm " style="background-color:#77d260; border: 1px solid #77d260;">Search</button>
        </form>
      </div>
      <div class="row justify-content-center pt-5 pb-5">
        <div class="card me-4 everything Master-class Zvenigorodskaya card-colors background text-color" style="width: 18rem;" data-event-id="1">
          <img src="./image/pottery.jpg" class="card-img-top" style="object-fit: cover;" height="262" width="262" alt="pottery studio and peoples" style="height: 11rem;">
          <div class="card-body">
            <h3 class="card-title">Pottery studio</h3>
            <p class="card-text">Master class</p>
            <p class="card-data">Zvenigorodskaya</p>
          <a href="./event.html" class="btn btn-primary">Event page</a>
          <form action="">
            <button type="submit" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Subscribe
            </button>
          </form>
          </div>
        </div>
        <div class="card me-4 everything Show Zvenigorodskaya card-colors background text-color" style="width: 18rem;" data-event-id="2">
          <img src="./image/master.jpg" class="card-img-top" style="object-fit: cover;" height="262" width="262" alt="Concert" style="height: 11rem;">
          <div class="card-body">
            <h3 class="card-title">"Мастер и Маргарита"</h3>
            <p class="card-text">Show</p>
            <p class="card-data">Zvenigorodskaya</p>
          <a href="./event.html" class="btn btn-primary">Event page</a>
          <form action="">
            <button type="submit" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Subscribe
            </button>
          </form>
          </div>
        </div>
        <div class="card me-4 everything Master-class Gorkovskaya card-colors background text-color" style="width: 18rem;" data-event-id="3">
          <img src="./image/kitchen.jpg" class="card-img-top" style="object-fit: cover;" height="262" width="262" alt="Culinary Studio" style="height: 11rem;">
          <div class="card-body">
            <h3 class="card-title">Culinary Studio</h3>
            <p class="card-text">Master class</p>
            <p class="card-data">Gorkovskaya</p>
          <a href="./event.html" class="btn btn-primary">Event page</a>
          <form action="">
            <button type="submit" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Subscribe
            </button>
          </form>
          </div>
        </div>
        <div class="card me-4 everything Show Spasskaya card-colors background text-color" style="width: 18rem;" data-event-id="4">
          <img src="./image/games.png" class="card-img-top" style="object-fit: cover;" height="262" width="262" alt="Concert" style="height: 11rem;">
          <div class="card-body">
            <h3 class="card-title">"Взрослые игры"</h3>
            <p class="card-text">Show</p>
            <p class="card-data">Spasskaya</p>
          <a href="./event.html" class="btn btn-primary">Event page</a>
          <form action="">
            <button type="submit" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#exampleModal">
              Subscribe
            </button>
          </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title" id="exampleModalLabel">You are recorded</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          We are waiting for you at our event in a good mood
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <footer class="container-fluid colors">
    <div class="d-flex justify-content-between py-4 my-4 mb-0 text-color">
      <p>Made by Vika Kirillova</p>
      <p>Frontend 2022-2023</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  <script>
  const eventOptions = document.querySelector('.event-type');
  const cityOptions = document.querySelector('.subway-type');
  const cards = document.querySelectorAll(".card");

  eventOptions.addEventListener('change', (event) => {
      const { value } = event.target
    })

  cityOptions.addEventListener('change', (event) => {
    const { value } = event.target
  })

  function filter() {
    const searchForm = document.querySelector('.search-form')
    searchForm.addEventListener('submit', (event) => {
      event.preventDefault();
      const eventTypeValue = eventOptions.value;
      const cityTypeValue = cityOptions.value;
      console.log(eventTypeValue, cityTypeValue)

      switch(eventTypeValue) {
        case 'all':
          cards.forEach(card => {
            if (card.classList.contains(cityTypeValue)) {
              card.style.display = 'block'
            } else {
              card.style.display = 'none'
            }
          }) 
              break
        case 'Master-class':
          cards.forEach(card => {
            if (card.classList.contains('Master-class') && card.classList.contains(cityTypeValue)) {
              card.style.display = 'block'
            } else {
              card.style.display = 'none'
            }
          })
          break
        case 'Show':
        cards.forEach(card => {
          if (card.classList.contains('Show') && card.classList.contains(cityTypeValue)) {
            card.style.display = 'block'
          } else {
            card.style.display = 'none'
          }
        })
        break
      }
    })
  }

  filter();
  </script>
</body>
</html>
