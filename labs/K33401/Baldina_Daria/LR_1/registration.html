<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Registration </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<body>
    <section class="text-center text-lg-start" style="background-color: #FFFAF0">
        <style>
          .cascading-right {
            margin-right: -50px;
          }
      
          @media (max-width: 991.98px) {
            .cascading-right {
              margin-right: 0;
            }
          }
        </style>
      
        <div class="container py-4">
          <div class="row g-0 align-items-center">
            <div class="col-lg-6 mb-5 mb-lg-0">
              <div class="card cascading-right" style="
                  background: hsl(0, 0%, 93%);
                  backdrop-filter: blur(30px);
                  ">
                <div class="card-body p-5 shadow-5 text-center">
                  <h2 class="fw-bold mb-5">Регистрация</h2>
                  <form onsubmit="createAdmin(event)">
                    <div class="row">
                      <div class="col-md-6 mb-4">
                        <div class="form-outline">
                          <input type="text" id="form3Example1" class="form-control" id="lastname" name="lastname">
                          <label class="form-label" for="form3Example1">Фамилия</label>
                        </div>
                      </div>
                      <div class="col-md-6 mb-4">
                        <div class="form-outline">
                          <input type="text" id="form3Example2" class="form-control" id="name" name="name">
                          <label class="form-label" for="form3Example2">Имя</label>
                        </div>
                      </div>
                    </div>

        
                    <div class="form-outline mb-4">
                      <input type="email" id="form3Example3" class="form-control" id="email" name="email">
                      <label class="form-label" for="form3Example3">Email</label>
                    </div>

                    <div class="form-outline mb-4">
                      <input type="password" id="form3Example4" class="form-control" id="password" name="password">
                      <label class="form-label" for="form3Example4">Пароль</label>
                    </div>
                  <div class="form-outline col-lg-12"> 
                    <button type="submit" class="btn btn-primary btn-block">Зарегестрироваться</button>
                  </div>
                  </form>
                </div>
              </div>
            </div>
      
            <div class="col-lg-6 mb-5 mb-lg-0">
              <img src="https://online.business.ru/wp-content/uploads/2020/04/PIC-1.png?x21571" class="w-100 rounded-4 shadow-4"
                alt="" />
            </div>
          </div>
        </div>
      </section>

      <script>
        async function createAdmin(event) {
          event.preventDefault()

          const inputs = Array.from(event.target.querySelectorAll('input'))

          const infoAdmin = {}

          for (const input of inputs) {
            infoAdmin[input.name] = input.value
          }
          console.log('admin data',  infoAdmin)

          const response = await fetch('http://localhost:3000/signup', {
            method: "POST",
            body: JSON.stringify(infoAdmin),
            headers: {
              'Content-Type': 'application/json',
          }
        })
        window.location.href = "http://127.0.0.1:5500/labs/K33401/Baldina_Daria/LR_1/main_page.html"
      }
      
      </script>
</body>
</html>